## NodeVision Editor _V2 overview (2025-11-14)
- Purpose: build a desktop Electron MVP for local image/video editing with a ComfyUI-style node editor plus FFmpeg engine; scope excludes AI model inference, cloud sync, or audio.
- Tech stack: pnpm monorepo, TypeScript everywhere, Electron desktop shell (apps/desktop-electron), shared packages (`@nodevision/editor`, `@nodevision/engine`, `@nodevision/settings`, `@nodevision/system-check`, `@nodevision/tokens`, `@nodevision/nvctl`). Tests use Vitest/ts-node. Styling is via inline CSS/JS inside `ui-template.ts` (renderer HTML string).
- Architecture: Electron main orchestrates settings/tempRoot/token/FFmpeg detection, renderer hosts canvas UI (ComfyUI-inspired). Engine handles FFmpeg job queue + inspect_concat IPC/HTTP. Settings/system-check/tokens packages provide supporting services. Docs live under `doc/` (schedule, checklist, API schemas, workflows).
- Key constraints: single-job queue, tempRoot 1GB/500MB guard, HTTP disabled unless `NV_HTTP=1` + token, i18n for en-US/ja-JP, 8px grid + 4px snap, autosave idle 2s / running 10s, queue states (Queued→Running→CoolingDown/Failed/Completed), AES-256 log export. Coverage target 100% with `pnpm test`, plus `pnpm lint`, `pnpm test:a11y` for axe.
- Workflow rituals: before implementing reread doc schedule & checklist, fetch /oraios/serena docs via context7, read Serena memories, then follow Plan→Implement→Unit Test→Fix loops, updating Serena plan/memories & doc checklist evidence each loop.